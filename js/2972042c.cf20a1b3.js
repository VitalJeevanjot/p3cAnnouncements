(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["2972042c"],{6870:function(t,e,i){},eb60:function(t,e,i){"use strict";var o=i("6870"),n=i.n(o);n.a},f241:function(t,e,i){"use strict";i.r(e);var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-layout",{attrs:{view:"lHh Lpr lFf"}},[i("q-modal",{attrs:{maximized:"","no-backdrop-dismiss":""},model:{value:t.opened,callback:function(e){t.opened=e},expression:"opened"}},[i("div",{staticClass:"row justify-center"},[i("p",{staticClass:"text-light",attrs:{align:"center"}},[t._v("Press `ESC` to go back or click\r\n        "),i("q-btn",{attrs:{color:"grey-9",outline:"",label:"back"},nativeOn:{click:function(e){return t.closeModal(e)}}})],1)]),i("span",{staticClass:"text-light",attrs:{align:"center"}},[t._v("Posting in "+t._s(this.wheretoPost.replace("/",""))+"\r\n    ")]),i("div",{staticClass:"row justify-center",staticStyle:{"background-color":"#f7f7f7"}},[i("div",{staticClass:"col-9"},[i("q-input",{staticClass:"q-mt-md q-ml-sm q-mr-sm",attrs:{type:"text",inverted:"",maxlength:90,color:"white text-black","no-shadow":"",error:t.error_title,"float-label":"Add Title *",clearable:""},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),i("div",{staticClass:"col-9 q-ma-md"},[i("q-editor",{attrs:{readonly:t.readonly,"toolbar-color":"grey-10",disable:t.disable_editor,toolbar:[["bold","italic","strike","underline","subscript","superscript"],["token","hr","link","custom_btn"],["print","fullscreen"],[{label:t.$q.i18n.editor.formatting,icon:t.$q.icon.editor.formatting,list:"no-icons",options:["p","h1","h2","h3","h4","h5","h6","code"]},{label:t.$q.i18n.editor.fontSize,icon:t.$q.icon.editor.fontSize,fixedLabel:!0,fixedIcon:!0,list:"no-icons",options:["size-1","size-2","size-3","size-4","size-5","size-6","size-7"]},{label:t.$q.i18n.editor.defaultFont,icon:t.$q.icon.editor.font,fixedIcon:!0,list:"no-icons",options:["default_font","arial","arial_black","comic_sans","courier_new","impact","lucida_grande","times_new_roman","verdana"]},"removeFormat"],["quote","unordered","ordered"],[{label:t.$q.i18n.editor.align,icon:t.$q.icon.editor.align,fixedLabel:!0,options:["left","center","right","justify"]}],["undo","redo"]],fonts:{arial:"Arial",arial_black:"Arial Black",comic_sans:"Comic Sans MS",courier_new:"Courier New",impact:"Impact",lucida_grande:"Lucida Grande",times_new_roman:"Times New Roman",verdana:"Verdana"}},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}})],1)]),i("br"),i("hr"),i("div",{staticClass:"row justify-around",staticStyle:{padding:"10px"},attrs:{color:"black"}},[i("div",{staticClass:"col-md-5"},[i("q-uploader",{attrs:{url:t.uploader_url,"hide-upload-button":"",name:t.thumbnail,"float-label":"Upload Thumbnail",extensions:".jpeg, .jpg, .png, .gif",error:t.error_thumbnail},on:{add:t.thumbnailAdded,"remove:cancel":t.thumbnailRemoved,"remove:done":t.thumbnailRemoved,"remove:abort":t.thumbnailRemoved}})],1),i("div",{staticClass:"col-md-5"},[i("q-uploader",{attrs:{url:t.uploader_url,"hide-upload-button":"",name:t.profile_pic,"float-label":"Upload Profile Picture",extensions:".jpeg, .jpg, .png, .gif",error:t.error_profilepic},on:{add:t.ppadded,"remove:cancel":t.ppRemoved,"remove:done":t.ppRemoved,"remove:abort":t.ppRemoved}})],1)]),i("div",{staticClass:"row justify-center"},[i("div",{staticClass:"col-7 q-pr-sm"},[i("q-input",{attrs:{type:"tel",readonly:t.readonly_code,error:t.error_auth_code,required:"","float-label":"AUTH Code *",clearable:"",maxlength:10,decimals:0,placeholder:"Enter AUTH Code"},model:{value:t.auth_text,callback:function(e){t.auth_text=e},expression:"auth_text"}})],1),i("div",{staticClass:"col-7 q-pr-sm"},[i("q-input",{attrs:{type:"tel",error:t.error_mobile,prefix:"+",required:"","float-label":"Mobile number *",clearable:"",maxlength:15,decimals:0,placeholder:"Enter mobile number with Country code"},model:{value:t.text,callback:function(e){t.text=e},expression:"text"}})],1),i("div",{staticClass:"col-6 q-pl-sm"},[i("q-input",{attrs:{type:"tel",error:t.error_verification,disable:t.disable,"float-label":"Verification Code *",clearable:"",maxlength:6,decimals:0},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}})],1),i("div",{staticClass:"col-8 q-pl-sm"},[i("p",{staticClass:"text-light",attrs:{align:"center"}},[t._v("You will receive SMS message with a code and standard rates will apply.")])])]),i("div",{staticClass:"row q-pa-sm justify-center"},[i("q-btn",{attrs:{label:t.send,id:"sendSms"},nativeOn:{click:function(e){return t.sendsms(e)}}}),i("q-btn",{staticClass:"q-ml-sm",attrs:{hidden:t.hidden,disable:t.disable_confirm,label:"Confirm",color:"primary"},nativeOn:{click:function(e){return t.publishPost(e)}}})],1)]),i("q-layout-header",[i("q-toolbar",{attrs:{color:"white text-green",inverted:"ios"===t.$q.theme}},[i("q-item",[i("q-item-tile",{attrs:{avatar:""}},[i("img",{attrs:{src:"statics/whale.png"}})])],1),i("q-toolbar-title",[t._v("\r\n        p3c.io\r\n        "),i("div",{attrs:{slot:"subtitle"},slot:"subtitle"},[t._v("online p3c notice board by Jeevanjot singh")])]),i("q-btn",{attrs:{icon:"create",round:"",flat:"",id:"postbtn"},nativeOn:{click:function(e){return t.openModal(e)}}})],1)],1),i("q-page-container",[i("q-page",[i("q-tabs",{attrs:{"underline-color":"green",swipeable:"",color:"white text-green",align:"justify"}},[i("q-tab",{attrs:{slot:"title",label:"admin Board",default:"",icon:"dashboard"},on:{select:t.openp3c_adminBoard},slot:"title"}),i("q-tab",{attrs:{slot:"title",label:"community board",icon:"developer_board"},on:{select:t.openp3c_communityBoard},slot:"title"})],1),i("div",{staticClass:"row justify-center"},t._l(t.books.slice().reverse(),function(e){return"false"===e.null?i("q-card",{key:e.Random_Seed,staticClass:"q-ma-sm",staticStyle:{width:"400px",height:"auto"},attrs:{inline:""}},[i("q-item",[i("q-item-side",{attrs:{avatar:e.Profile_Pic}}),i("q-item-main",[i("router-link",{staticStyle:{color:"#000000","text-decoration":"none"},attrs:{to:"post/"+t.wheretoPost+e.Random_Seed+"/"+e.post_id}},[i("q-item-tile",{attrs:{label:""}},[t._v(t._s(e.Title))]),i("q-item-tile",{attrs:{sublabel:""}},[t._v(t._s(e.DateTime))])],1)],1)],1),i("q-card-media",[i("div",{staticClass:"wrap",staticStyle:{overflow:"hidden"}},[i("object",{staticStyle:{"object-fit":"cover"},attrs:{width:"400px",height:"250px",data:e.Image,frameborder:"0"}})])]),i("q-card-main",[i("p",{staticClass:"text-faded"},[t._v(t._s(e.Mobile))])])],1):t._e()}))],1)],1)],1)},n=[];o._withStripped=!0;i("96cf");var a=i("c973"),s=i.n(a),r=(i("6b54"),i("7f7f"),i("b5ae")),l=i("fb82");l["a"].setBrand("green","#62d165");var c={name:"MyLayout",data:function(){return{uid:null,leftDrawerOpen:this.$q.platform.is.desktop,books:[],opened:!1,selectedTab:"tab-1",text:"",title:"",code:"",disable:!0,hidden:!0,send:"Send",model:"Hi...",disable_editor:!1,readonly:!1,thumbnail:"",error_mobile:!1,error_verification:!1,error_thumbnail:!1,error_title:!1,error_profilepic:!1,profile_pic:"",uploader_url:"",timestamp:null,pp_files:[],thumbnail_files:[],pp_fileURL:null,thumbnail_fileURL:null,wheretoPost:"p3c_admin/",auth_text:"",error_auth_code:!1,p3c_admin_keys:[],p3c_community_keys:[],canPostInp3c_admin:!1,canPostInP3c_community:!1,readonly_code:!1,posting_now:!1,disable_confirm:!1}},methods:{ppadded:function(t){this.pp_files=t,this.profile_pic=t[0].name},thumbnailAdded:function(t){this.thumbnail_files=t,this.thumbnail=t[0].name},ppRemoved:function(t){this.profile_pic="",this.pp_files=[]},thumbnailRemoved:function(t){this.thumbnail_files=[],this.thumbnail=""},openp3c_communityBoard:function(){var t=this;this.$q.loading.show(),this.wheretoPost="p3c_community/",this.$bookref.off(),this.books=[],this.$p3c_communityref.on("value",function(e){!1===t.posting_now&&t.$q.loading.hide(),t.books=e.val()},function(t){console.log("The read failed: "+t.code)})},sendsms:function(){var t=this;if(this.$q.loading.show({message:"Please Wait..."}),this.$v.text.$invalid)this.$q.notify("Mobile number with country code is required."),this.error_mobile=!0,this.$q.loading.hide();else if(this.$v.thumbnail.$invalid)this.$q.notify("A Thumbnail image or video is required"),this.error_thumbnail=!0,this.error_mobile=!1,this.$q.loading.hide();else if(this.$v.title.$invalid)this.$q.notify("Enter a valid title with a length of 8 characters or more but less than 90."),this.error_thumbnail=!1,this.error_mobile=!1,this.error_title=!0,this.$q.loading.hide();else if(this.$v.profile_pic.$invalid)this.$q.notify("Enter a valid title with a length of 8 characters or more but less than 90."),this.error_thumbnail=!1,this.error_mobile=!1,this.error_title=!1,this.error_profilepic=!0,this.$q.loading.hide();else if(this.$v.auth_text.$invalid)this.$q.notify("Enter a valid AUTH code"),this.error_thumbnail=!1,this.error_mobile=!1,this.error_title=!1,this.error_profilepic=!1,this.error_auth_code=!0,this.$q.loading.hide();else{this.error_mobile=!1,this.error_thumbnail=!1,this.error_title=!1,this.error_profilepic=!1,this.error_auth_code=!1;var e="+"+this.text;if("p3c_community/"===this.wheretoPost){this.canPostInP3c_community=!1,this.canPostInp3c_admin=!1;for(var i=0;i<this.p3c_community_keys.length;i++)this.p3c_community_keys[i].Key.toString()===this.auth_text&&"true"===this.p3c_community_keys[i].Can_Use&&(this.canPostInP3c_community=!0,this.canPostInp3c_admin=!1,this.readonly_code=!0);!1===this.canPostInP3c_community&&(this.$q.notify("Your code is not correct or your code is disabled."),this.$q.loading.hide())}else if("p3c_admin/"===this.wheretoPost){this.canPostInP3c_community=!1,this.canPostInp3c_admin=!1;for(var o=0;o<this.p3c_admin_keys.length;o++)this.p3c_admin_keys[o].Key.toString()===this.auth_text&&"true"===this.p3c_admin_keys[o].Can_Use&&(this.canPostInP3c_community=!1,this.canPostInp3c_admin=!0,this.readonly_code=!0);!1===this.canPostInp3c_admin&&(this.$q.notify("Your code is not correct or your code is disabled."),this.$q.loading.hide())}if(!0===this.canPostInp3c_admin||!0===this.canPostInP3c_community)try{this.$firebase.auth().signInWithPhoneNumber(e,window.recaptchaVerifier).then(function(e){window.confirmationResult=e,t.$q.loading.hide(),t.disable=!1,t.hidden=!1,t.send="Resend",t.$q.notify({message:"Sent!",color:"primary"})}).catch(function(e){t.$q.loading.hide(),t.disable=!0,t.hidden=!0,t.send="Send",t.$q.notify(e.message)})}catch(t){this.$q.notify(t),this.$q.loading.hide()}}},openp3c_adminBoard:function(){var t=this;this.$q.loading.show(),this.$p3c_communityref.off(),this.books=[],this.wheretoPost="p3c_admin/",this.$bookref.on("value",function(e){t.books=e.val(),!1===t.posting_now&&t.$q.loading.hide()},function(t){console.log("The read failed: "+t.code)})},onCreate:function(){console.log("creating post")},openModal:function(){this.opened=!0},closeModal:function(){this.opened=!1},publishPost:function(){var t=s()(regeneratorRuntime.mark(function t(){var e,i,o=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if("p3c_community/"===this.wheretoPost){for(this.canPostInP3c_community=!1,this.canPostInp3c_admin=!1,e=0;e<this.p3c_community_keys.length;e++)this.p3c_community_keys[e].Key.toString()===this.auth_text&&"true"===this.p3c_community_keys[e].Can_Use&&(this.canPostInP3c_community=!0,this.canPostInp3c_admin=!1,this.readonly_code=!0);!1===this.canPostInP3c_community&&(this.$q.notify("Your code is not correct or your code is disabled."),this.$q.loading.hide())}else if("p3c_admin/"===this.wheretoPost){for(this.canPostInP3c_community=!1,this.canPostInp3c_admin=!1,i=0;i<this.p3c_admin_keys.length;i++)this.p3c_admin_keys[i].Key.toString()===this.auth_text&&"true"===this.p3c_admin_keys[i].Can_Use&&(this.canPostInP3c_community=!1,this.canPostInp3c_admin=!0,this.readonly_code=!0);!1===this.canPostInp3c_admin&&(this.$q.notify("Your code is not correct or your code is disabled."),this.$q.loading.hide())}return t.next=3,this.setTimeStamp();case 3:!0!==this.canPostInp3c_admin&&!0!==this.canPostInP3c_community||(this.$firebase.auth().signInAnonymously().catch(function(t){o.$q.notify(t.message)}),this.$v.text.$invalid?(this.$q.notify("Mobile number with country code is required."),this.error_mobile=!0):this.$v.thumbnail.$invalid?(this.$q.notify("A Thumbnail image or video is required"),this.error_mobile=!1,this.error_thumbnail=!0):this.$v.title.$invalid?(this.$q.notify("Enter a valid title with a length of 8 or more but less than 90."),this.error_thumbnail=!1,this.error_mobile=!1,this.error_title=!0):this.$v.code.$invalid?(this.error_mobile=!1,this.error_thumbnail=!1,this.error_title=!1,this.error_verification=!0,this.$q.notify("Please enter correct 6 digit verification code")):this.$v.profile_pic.$invalid?(this.$q.notify("Enter a valid title with a length of 8 characters or more but less than 90."),this.error_thumbnail=!1,this.error_mobile=!1,this.error_title=!1,this.error_profilepic=!0):this.$v.auth_text.$invalid?(this.$q.notify("Enter a valid AUTH code"),this.error_thumbnail=!1,this.error_mobile=!1,this.error_title=!1,this.error_profilepic=!1,this.error_auth_code=!0):(this.error_mobile=!1,this.error_thumbnail=!1,this.error_verification=!1,this.error_title=!1,this.error_profilepic=!1,this.error_auth_code=!1,this.posting_now=!0,this.disable_confirm=!0,this.$q.loading.show({message:"Please wait and do not refresh the page."}),this.closeModal(),window.confirmationResult.confirm(this.code).then(function(){var t=new FormData;t.append("file",o.pp_files[0]),t.append("tags","gndu, board, notice"),t.append("upload_preset","myldschl"),t.append("api_key","985345875982584"),t.append("timestamp",o.timestamp/1e3|0),o.$q.loading.show({message:"Uploading Profile Pic..."}),o.$axios.post("https://api.cloudinary.com/v1_1/dpnrocxf9/image/upload",t,{headers:{"X-Requested-With":"XMLHttpRequest"}}).then(function(t){var e=t.data;o.pp_fileURL=e.secure_url,console.log(o.pp_fileURL);var i=new FormData;i.append("file",o.thumbnail_files[0]),i.append("tags","gndu, board, notice"),i.append("upload_preset","myldschl"),i.append("api_key","985345875982584"),i.append("timestamp",o.timestamp/1e3|0),o.$q.loading.show({message:"Uploading Thumbnail Pic..."}),o.$axios.post("https://api.cloudinary.com/v1_1/dpnrocxf9/image/upload",i,{headers:{"X-Requested-With":"XMLHttpRequest"}}).then(function(t){var e=t.data;o.thumbnail_fileURL=e.secure_url,console.log(o.thumbnail_fileURL),o.$q.loading.show({message:"Posting Your Request..."}),o.$axios.get("https://helloacm.com/api/random/?n=128").then(function(t){o.$firebase.database().ref(o.wheretoPost+o.books.length).set({Body:o.model,Comments:"later",Image:o.thumbnail_fileURL,Mobile:o.text,Random_Seed:t.data,Recent_Post:o.books.length-1,Title:o.title,Upvotes:"0",DateTime:o.timestamp.toString(),Profile_Pic:o.pp_fileURL,Updated_On:o.timestamp.toString(),null:"false",code_used:o.auth_text,post_id:o.books.length}).then(function(){o.$q.notify({message:"Post Published!",color:"green"}),console.log('"Hiding"'),o.$q.loading.hide(),o.readonly_code=!1,o.hidden=!0,o.posting_now=!1,o.disable_confirm=!1}).catch(function(t){o.$q.notify(t.message),o.$q.loading.hide(),o.posting_now=!1,o.disable_confirm=!1})}).catch(function(t){o.$q.notify(t),o.$q.loading.hide(),o.posting_now=!1,o.disable_confirm=!1})}).catch(function(t){o.$q.notify(t),o.$q.loading.hide(),o.posting_now=!1,o.disable_confirm=!1})}).catch(function(t){o.$q.notify(t),o.$q.loading.hide(),o.posting_now=!1,o.disable_confirm=!1})}).catch(function(t){o.$q.notify(t),o.$q.loading.hide(),o.posting_now=!1,o.disable_confirm=!1})));case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),setTimeStamp:function(){var t=s()(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$axios.get("https://worldclockapi.com/api/json/utc/now").then(function(t){e.timestamp=new Date(t.data.currentDateTime)}).catch(function(t){e.$q.notify(t)});case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),getdata:function(){var t=this;"p3c_community/"===this.wheretoPost?this.$p3c_communityref.on("value",function(e){t.books=e.val(),!1===t.posting_now&&t.$q.loading.hide()},function(t){console.log("The read failed: "+t.code)}):"p3c_admin/"===this.wheretoPost&&this.$bookref.on("value",function(e){t.books=e.val(),!1===t.posting_now&&t.$q.loading.hide()},function(t){console.log("The read failed: "+t.code)}),this.$p3c_adminKeys.on("value",function(e){t.p3c_admin_keys=e.val(),!1===t.posting_now&&t.$q.loading.hide()},function(t){console.log("The read failed: "+t.code)}),this.$p3c_communityKeys.on("value",function(e){t.p3c_community_keys=e.val(),!1===t.posting_now&&t.$q.loading.hide()},function(t){console.log("The read failed: "+t.code)})}},mounted:function(){var t=this;this.$firebase.auth().signInAnonymously().catch(function(e){t.$q.notify(e.message)}),this.$firebase.auth().onAuthStateChanged(function(e){e&&(t.uid=e.uid,t.getdata())}),this.books=[],this.$q.loading.show(),this.setTimeStamp(),this.$firebase.auth().useDeviceLanguage();try{window.recaptchaVerifier=new this.$firebase.auth.RecaptchaVerifier("sendSms",{size:"invisible",callback:function(t){}})}catch(t){this.$q.notify(t),this.$q.loading.hide()}},validations:{text:{required:r["required"],minLength:Object(r["minLength"])(5)},thumbnail:{required:r["required"]},code:{required:r["required"],minLength:Object(r["minLength"])(6)},title:{required:r["required"],minLength:Object(r["minLength"])(8),maxlength:Object(r["maxLength"])(90)},profile_pic:{required:r["required"]},auth_text:{required:r["required"],minLength:Object(r["minLength"])(9),maxlength:Object(r["maxLength"])(10)}}},d=c,h=(i("eb60"),i("2877")),m=Object(h["a"])(d,o,n,!1,null,null,null);m.options.__file="MyLayout.vue";e["default"]=m.exports}}]);
